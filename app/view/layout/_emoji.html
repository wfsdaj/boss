<div class="dropdown">
    <button class="btn btn-icon btn-sm" type="button" data-bs-toggle="dropdown" aria-expanded="false" title="è¡¨æƒ…">
        <i class="iconfont icon-smile fs-5 text-primary"></i>
    </button>
    <button class="btn btn-icon btn-sm" type="button" aria-expanded="false" title="å›¾ç‰‡">
        <label for="files" class="cursor-pointer">
            <i class="iconfont icon-image fs-5 text-primary"></i>
        </label>
    </button>
    <ul class="dropdown-menu shadow-sm emoji-list p-2" data-stoppropagation="true">
        <li onclick="h_editor.insert('â¤', -1, true);">â¤</li>
        <li onclick="h_editor.insert('â„', -1, true);">â„</li>
        <li onclick="h_editor.insert('â›„', -1, true);">â›„</li>
        <li onclick="h_editor.insert('ğŸˆš', -1, true);">ğŸˆš</li>
        <li onclick="h_editor.insert('ğŸˆ¶', -1, true);">ğŸˆ¶</li>
        <li onclick="h_editor.insert('ğŸ˜ƒ', -1, true);">ğŸ˜ƒ</li>
        <li onclick="h_editor.insert('ğŸ˜…', -1, true);">ğŸ˜…</li>
        <li onclick="h_editor.insert('ğŸ˜‰', -1, true);">ğŸ˜‰</li>
        <li onclick="h_editor.insert('ğŸ˜', -1, true);">ğŸ˜</li>
        <li onclick="h_editor.insert('ğŸ˜', -1, true);">ğŸ˜</li>
        <li onclick="h_editor.insert('ğŸ˜', -1, true);">ğŸ˜</li>
        <li onclick="h_editor.insert('ğŸ˜’', -1, true);">ğŸ˜’</li>
        <li onclick="h_editor.insert('ğŸ˜', -1, true);">ğŸ˜</li>
        <li onclick="h_editor.insert('ğŸ˜”', -1, true);">ğŸ˜”</li>
        <li onclick="h_editor.insert('ğŸ˜“', -1, true);">ğŸ˜“</li>
        <li onclick="h_editor.insert('ğŸ’©', -1, true);">ğŸ’©</li>
        <li onclick="h_editor.insert('ğŸ‘', -1, true);">ğŸ‘</li>
        <li onclick="h_editor.insert('ğŸ‘Š', -1, true);">ğŸ‘Š</li>
        <li onclick="h_editor.insert('ğŸ™ˆ', -1, true);">ğŸ™ˆ</li>
        <li onclick="h_editor.insert('âš½', -1, true);">âš½</li>
    </ul>
</div>

<script>
    let h_editor;
    document.addEventListener('DOMContentLoaded', () => {
        // æ£€æŸ¥ TE æ˜¯å¦å·²ç»å®šä¹‰
        if (typeof TextEditor === 'undefined') {
            console.warn('TE æ²¡æœ‰å®šä¹‰ï¼Œæ— æ³•åˆå§‹åŒ–ç¼–è¾‘å™¨ã€‚');
            return;
        }

        // è·å–æ‰€æœ‰çš„ textarea å…ƒç´ å¹¶é€‰æ‹©ç¬¬ä¸€ä¸ªï¼ˆå¦‚æœå­˜åœ¨ï¼‰
        const textareas = document.querySelectorAll('textarea');
        if (!textareas) {
            console.warn('æ²¡æœ‰æ‰¾åˆ°ä»»ä½• textarea å…ƒç´ æ¥åˆå§‹åŒ–ç¼–è¾‘å™¨ã€‚');
            return;
        }

        // ä½¿ç”¨æ‰¾åˆ°çš„ textarea å…ƒç´ åˆå§‹åŒ–ç¼–è¾‘å™¨
        try {
            h_editor = new TextEditor(textareas[0]);
        } catch (error) {
            console.error('åˆå§‹åŒ–ç¼–è¾‘å™¨æ—¶å‘ç”Ÿé”™è¯¯ï¼š', error);
            // è¿™é‡Œå¯ä»¥æ·»åŠ é¢å¤–çš„é”™è¯¯å¤„ç†é€»è¾‘ï¼Œæ¯”å¦‚æ˜¾ç¤ºä¸€ä¸ªé”™è¯¯æç¤ºç»™ç”¨æˆ·
        }
    });
</script>